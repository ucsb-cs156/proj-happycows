import{u as r,a as n,b as s,c as a}from"./index-3Z6SaR-l.js";import{u}from"./index-BB7RSFYR.js";function c(){let t=["ERROR_GETTING_ROLES"];return r({queryKey:["/api/currentUser"],queryFn:async()=>{try{const e=await a.get("/api/currentUser");try{t=e.data.roles.map(o=>o.authority)}catch(o){console.error("Error getting roles: ",o)}return e.data={...e.data,rolesList:t},{loggedIn:!0,root:e.data}}catch(e){return console.error("Error invoking axios.get: ",e),{loggedIn:!1,root:null}}},initialData:{loggedIn:!1,root:null,initialData:!0}})}function g(){const t=n(),e=u();return s({mutationFn:async()=>{await a.post("/logout"),await t.resetQueries({queryKey:["/api/currentUser"],exact:!0}),e("/")}})}function y(t,e){return t&&t.loggedIn&&t.root&&t.root.rolesList&&t.root.rolesList.includes(e)}export{g as a,y as h,c as u};
