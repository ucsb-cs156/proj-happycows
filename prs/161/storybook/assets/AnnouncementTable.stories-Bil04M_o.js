import{j as d}from"./jsx-runtime-BC85tlZo.js";import"./iframe-BTuJcAs9.js";import{O as b,B as i}from"./OurTable-DtSV993S.js";import{y as f,u as h}from"./useBackend-CbiZWCPX.js";import{h as E}from"./currentUser-Beivyx2b.js";import{u as y}from"./index-BB7RSFYR.js";import{a as p}from"./announcementFixtures-h9XYR79s.js";import{c as l}from"./currentUserFixtures-C0ist6Aa.js";import{h as D}from"./index-y4F5VpY_.js";import"./preload-helper-D9Z9MdNV.js";import"./Table-C9FVjeDE.js";import"./ThemeProvider-BdPtjSDM.js";import"./Anchor-BzGJqbxn.js";import"./Button-BDV_ecRq.js";import"./index-3Z6SaR-l.js";function O(e){console.log(e),f(e)}function x(e){return{url:"/api/announcements",method:"DELETE",params:{id:e.row.values.id}}}function c({announcements:e,currentUser:a}){const s=y(),T=m=>{s(`/announcements/edit/${m.row.values.id}`)},A=h(x,{onSuccess:O},["/api/announcements/all"]),g=async m=>{A.mutate(m)},o=[{Header:"id",accessor:"id"},{Header:"Start Date ISO Format",accessor:"startDate"},{Header:"End Date ISO Format",accessor:"endDate"},{Header:"Announcement",accessor:"announcementText"}];return E(a,"ROLE_ADMIN")&&(o.push(i("Edit","primary",T,"AnnouncementTable")),o.push(i("Delete","danger",g,"AnnouncementTable"))),d.jsx(b,{data:e,columns:o,testid:"AnnouncementTable"})}c.__docgenInfo={description:"",methods:[],displayName:"AnnouncementTable"};const R={title:"components/Announcement/AnnouncementTable",component:c},u=e=>d.jsx(c,{...e}),r=u.bind({});r.args={announcements:[]};const t=u.bind({});t.args={announcements:p.threeAnnouncements,currentUser:l.userOnly};const n=u.bind({});n.args={announcements:p.threeAnnouncements,currentUser:l.adminUser};n.parameters={msw:[D.delete("/api/announcements",(e,a,s)=>(window.alert("DELETE: "+JSON.stringify(e.url)),a(s.status(200),s.json({}))))]};r.parameters={...r.parameters,docs:{...r.parameters?.docs,source:{originalSource:`args => {
  return <AnnouncementTable {...args} />;
}`,...r.parameters?.docs?.source}}};t.parameters={...t.parameters,docs:{...t.parameters?.docs,source:{originalSource:`args => {
  return <AnnouncementTable {...args} />;
}`,...t.parameters?.docs?.source}}};n.parameters={...n.parameters,docs:{...n.parameters?.docs,source:{originalSource:`args => {
  return <AnnouncementTable {...args} />;
}`,...n.parameters?.docs?.source}}};const J=["Empty","ThreeItemsOrdinaryUser","ThreeItemsAdminUser"];export{r as Empty,n as ThreeItemsAdminUser,t as ThreeItemsOrdinaryUser,J as __namedExportsOrder,R as default};
