import{j as r}from"./jsx-runtime-BC85tlZo.js";import"./iframe-BTuJcAs9.js";import{C as l}from"./ChatMessageDisplay-BzMMJRvD.js";import{a as i}from"./useBackend-CbiZWCPX.js";const c=({commonsId:a})=>{const{data:o}=i(["/api/chat/get"],{method:"GET",url:"/api/chat/get",params:{commonsId:a,page:0,size:100}},{content:[]},{refetchInterval:2e3}),{data:n}=i(["/api/usercommons/commons/all"],{method:"GET",url:"/api/usercommons/commons/all",params:{commonsId:a}},[],{refetchInterval:2e3}),t=o.content.sort((e,s)=>s.id-e.id),m=n.reduce((e,s)=>(e[s.userId]=s.username||"",e),{});return r.jsx("div",{style:{display:"flex",flexDirection:"column-reverse",overflowY:"scroll",maxHeight:"300px"},"data-testid":"ChatDisplay",children:Array.isArray(t)&&t.slice(0,100).map(e=>r.jsx(l,{message:{...e,username:m[e.userId]}},e.id))})};c.__docgenInfo={description:"",methods:[],displayName:"ChatDisplay"};export{c as C};
