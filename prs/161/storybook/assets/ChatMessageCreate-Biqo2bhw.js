import{j as t}from"./jsx-runtime-BC85tlZo.js";import"./iframe-BTuJcAs9.js";import{u,F as o}from"./index.esm-CSIWFIrx.js";import{u as C}from"./useBackend-CbiZWCPX.js";import{B as h}from"./Button-BDV_ecRq.js";const x=({commonsId:n,submitAction:s})=>{const a="ChatMessageCreate",m=C(e=>({url:`/api/chat/post?commonsId=${e.commonsId}&content=${e.content}`,method:"POST",data:e}),{},[`/api/chat/get?page=0&size=10&commonsId=${n}`]);s=s||(async e=>{const p=encodeURIComponent(e.message),g=encodeURIComponent(Number(n)),l={content:p,commonsId:g};m.mutate(l),c()});const{register:r,formState:{errors:i},handleSubmit:d,reset:c}=u();return t.jsxs(o,{"data-testid":a,onSubmit:d(s),style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx(o.Control,{"data-testid":`${a}-Message`,id:"message",type:"text",...r("message",{required:"Message cannot be empty"})}),t.jsx(o.Control.Feedback,{type:"invalid",children:i.message?.message}),t.jsx(h,{type:"submit","data-testid":`${a}-Send`,children:"Send"})]})};x.__docgenInfo={description:"",methods:[],displayName:"ChatMessageCreate"};export{x as C};
